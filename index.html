<!-- ***********
Project Name: Memory Match
File Name: index.html
Author: Lance Takiguchi
Date: 08/24/2016 Time: 14:57 - 8/26/16 09:48
Objective: v0.1 Create the basic card flipping of the game
Prompt: https://github.com/Learning-Fuze/memory_match/tree/v0.5
 *********** -->


<!doctype html>
<html>
<head>
    <title>Home | MapleStory Memory Match</title>

    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <script>
        var first_card_clicked = null;
        var second_card_clicked = null;
        var total_possible_matches = 2;
        var match_counter = 0;

        var TIME_DELAY_AMOUNT = 2000; //** In milliseconds. How much time to pause between accepting clicks

        var card_clicked = function() {
            //** Display card front
            $(".back").click(function () {
                //$(this).css("display", "none");
                $(this).hide();

                //** Checking if first_card_clicked already
                if(first_card_clicked == null) {
                    // TODO: Delete console.log("Aww, your first click :D");
                    first_card_clicked = this;
                    //TODO: Test & see if this code is needed $(this).addClass(".first_flag");
                    //TODO: DELETE console.log("As the first, I have got this: ", first_card_clicked)

                }else{ //**AKA: Handling the 2nd click
                    //TODO:DELETE console.log("I'm not first...")
                    second_card_clicked = this; //TODO: This variable is not necessary
                    //TODO: DELETE console.log("2nd card looks like this: ", second_card_clicked);
                    //** Checking if the cards are the same
                    if($(first_card_clicked).parent().find(".front img").attr("src") == $(second_card_clicked).parent().find(".front img").attr("src")){
                        console.log("The 2nd card, my life is complete");

                        //** Variable Setting
                        match_counter++;
                        first_card_clicked = null;
                        second_card_clicked = null;

                        //**Check if the GAME is OVER
                        if(match_counter == total_possible_matches){
                            $("#communication_display").text("YOU WIN!");
                        }

                    }else{
                        console.log("1st & 2nd just aren't the same");

                        var turn_onto_back = function (){
                            console.log("2 Seconds later...");
                            $(this).show(); //** resets card onto back
                            $(first_card_clicked).show();
                            $(second_card_clicked).show();

                            first_card_clicked = null;
                            second_card_clicked = null;
                        };

                        setTimeout(turn_onto_back,TIME_DELAY_AMOUNT);
                    }
                }


            });


        };

        // ** Run the JS **
        $(document).ready( card_clicked
        );
    </script>

</head>

<body>
    <header>
        <h1>MapleStory Memory Match</h1>

        <!-- **** Nav Bar **** -->
        <ul class="nav">
            <li><a href="settings.html">Settings</a></li>
            <li><a href="about.html">About</a></li>
        </ul>
    </header>


    <div> <!-- **** Stats Container **** -->
        <div class="games-played">
            <div class="label">Games Played</div>
        </div>

        <div class="value"></div>

        <div class="attempts">
            <div class="label">Attempts</div>
            <div>  </div>
        </div>

        <div class="accuracy">
            <div class="label">Accuracy</div>

            <div>  </div>
        </div>

        <button class="reset"> <!-- TODO: Make the button do something -->
            Reset Game
        </button>
    </div>

     <!-- **** Game Area **** -->
    <div class="game-area">

        <div id="communication_display">  </div>

        <div class="card">
            <div class="front">
                <img src="images/ms_sword.png" alt="ms_sword.png">
            </div>
            <div class="back">
                <img src="images/ms_leaf" alt="ms_leaf">
            </div>
        </div>

        <div class="card">
            <div class="front">
                <img src="images/ms_sword.png" alt="ms_sword.png">
            </div>
            <div class="back">
                <img src="images/ms_leaf" alt="ms_leaf">
            </div>
        </div>

        <div class="card">
            <div class="front">
                <img src="images/ms_shield.png" alt="ms_shield.png">
            </div>
            <div class="back">
                <img src="images/ms_leaf" alt="ms_leaf">
            </div>
        </div>

        <div class="card">
            <div class="front">
                <img src="images/ms_shield.png" alt="ms_shield.png">
            </div>
            <div class="back">
                <img src="images/ms_leaf" alt="ms_leaf">
            </div>
        </div>

    </div>
</body>

</html>